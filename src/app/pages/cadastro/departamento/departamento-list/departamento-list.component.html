<!-- Cards Estaticticas -->
<div class="row mb-0">
  <div class="col-xl-6 col-md-6">
      <app-card [hidHeader]="true">
          <div class="row align-items-center m-l-0">
              <div class="col-auto">
                  <i class="fas fa-book-reader f-28 text-c-purple"></i>
              </div>
              <div class="col-auto">
                  <h6 class="text-muted m-b-10">Departamentos Padrão</h6>
                  <h3 class="m-b-0">10</h3>
              </div>
          </div>
      </app-card>
  </div>

  <div class="col-xl-6 col-md-6">
      <app-card [hidHeader]="true">
          <div class="row align-items-center m-l-0">
              <div class="col-auto">
                  <i class="fas fa-home f-28 text-c-dark"></i>
              </div>
              <div class="col-auto">
                  <h6 class="text-muted m-b-10">Departamentos da Igreja</h6>
                  <h3 class="m-b-0">20</h3>
              </div>
          </div>
      </app-card>
  </div>
</div>
<!-- Fim Cards Estaticticas -->

<div class="row mb-3">
  <!-- Pesquisa Departamentos -->
  <span class=" col-sm-4 mt-0 mb-2">
      <div class="p-inputgroup">
          <button type="button"
              style="height: 35px; cursor:default ; border-radius: 10px; border-bottom-right-radius: 0; border-top-right-radius: 0; border: 0; background:#1a82ce;"
              pButton pRipple class=""> <i class="pi pi-search"></i></button>
          <input class="form-control" [(ngModel)]="nome" type="text" placeholder="Pesquisar "
              (input)="dtdepartamento.filterGlobal($event.target.value, 'contains')"
              style="height: 35px; min-width: 180px; border-radius: 10px; border-bottom-left-radius: 0; border-top-left-radius: 0; font-size: 14px; text-transform: lowercase">
      </div>
  </span>
</div>

<app-card [hidHeader]="true" cardTitle="" cardClass="card-border-c-purple  border-1">

  <div class="row">
      <div class="col-sm-12">
          <div class="">
              <div class="mb-3 ">
                  <div class="">
                      <p-table #dtdepartamento [value]="departamentos" [globalFilterFields]="['nome']" [lazy]="true"
                          responsiveLayout="stack" (onLazyLoad)="loadDepartamentosLazy($event)" [showCurrentPageReport]="true"
                          [totalRecords]="totalRegistros"
                          styleClass="p-datatable-sm p-datatable-striped p-datatable-gridlines"
                          currentPageReportTemplate="Exibindo {first} a {last} de {totalRecords} registros"
                          [paginator]="true" [rows]="linesPerPage" [responsive]="true"
                          emptyMessage="Nenhum registro encontrado">


                          <ng-template pTemplate="header">
                              <tr>
                                  <th style="font-size: 11px; background-color:rgba(27,32,37,0.06);"><b>Nome</b></th>
                                  <th class="col-data-content-3" style="font-size: 11px; background-color:rgba(27,32,37,0.06);"><b>Nome do Conjunto </b></th>
                                  <th class="col-acoes-header"
                                      style="font-size: 11px; background-color: rgba(27,32,37,0.06)">
                                      Ações</th>

                              </tr>
                          </ng-template>

                         
                          <ng-template pTemplate="body" let-departamento>
                              <tr
                                  *ngIf="(perfil !== 'ADMIN' && (departamento.igrejaId == igrejaId || departamento.igrejaId == null))">
                                  <td style=" font-size: 13px; color: rgb(48, 48, 138);">{{ departamento.nome }}</td>
                                  <td class="col-data-content-3"style=" font-size: 13px; color: rgb(48, 48, 138);">{{ departamento.nomeConjunto }}</td>
                                  <td class="col-acoes-header">
                                      <button *ngIf="(perfil !== 'ADMIN' && (departamento.igrejaId == igrejaId ))"
                                          [routerLink]="[departamento.id, 'edit']" type="button"
                                          class="btn btn-icon btn-outline-success"
                                          [style]="{'height': '30px', 'width': '30px'} "[placement]="'top'" 
                                          ngbTooltip="Editar">
                                          <i class="pi pi-chevron-up"></i>
                                      </button>
                                  </td>
                              </tr>

                              <tr *ngIf="(perfil == 'ADMIN')">
                                  <td style=" font-size: 13px; color: rgb(48, 48, 138);">{{ departamento.nome }}</td>
                                  <td class="col-data-content-3"style=" font-size: 13px; color: rgb(48, 48, 138);">{{ departamento.nomeConjunto }}</td>
                                  <td class="col-acoes-header">
                                      <button [routerLink]="[departamento.id, 'edit']" type="button"
                                          class="btn btn-icon btn-outline-success"
                                          [style]="{'height': '30px', 'width': '30px'} " [placement]="'top'"
                                          ngbTooltip="Editar">
                                          <i class="pi pi-chevron-up"></i>
                                      </button>
                                  </td>
                              </tr>
                          </ng-template>
                      </p-table>
                  </div>
              </div>
          </div>
      </div>
  </div>
</app-card>
<!--  ativo e inativo body end -->